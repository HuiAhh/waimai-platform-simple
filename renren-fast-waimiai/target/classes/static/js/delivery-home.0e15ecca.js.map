{"version":3,"sources":["webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?5063","webpack:///src/page/deliveryman/pre-task/OrderItem.vue","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?c96c","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?db12","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?9793","webpack:///./src/page/deliveryman/main/Home.vue?eae8","webpack:///src/page/deliveryman/main/Home.vue","webpack:///./src/page/deliveryman/main/Home.vue?26df","webpack:///./src/page/deliveryman/main/Home.vue","webpack:///./src/page/deliveryman/GlobalContainer.vue?5f6a","webpack:///src/page/deliveryman/GlobalContainer.vue","webpack:///./src/page/deliveryman/GlobalContainer.vue?a9c6","webpack:///./src/page/deliveryman/GlobalContainer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","totalPrice","order","sendCost","scopedSlots","_u","key","fn","model","value","callback","$$v","activeNames","expression","shopShopname","_l","item","id","sellPrice","numbers","originPrice","title","cover","_v","_s","totalMoney","proxy","shopAddress","userAddress","userUsername","userMobile","completestatus","_e","on","deliverReceive","preDeliverSent","modifiedTime","Date","gmtCreate","getDate","staticRenderFns","component","onRefresh","isLoading","removeItemFromParent","$route","meta","keepAlive","active"],"mappings":"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","file":"js/delivery-home.0e15ecca.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-cell',{staticStyle:{\"background\":\"#EFF0F1\"}},[_c('van-card',{attrs:{\"price\":_vm.totalPrice(_vm.order.sendCost+2)},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('van-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('van-collapse-item',{attrs:{\"title\":_vm.order.shopShopname,\"name\":\"1\"}},[_vm._l((_vm.orderFoods),function(item){return _c('van-cell',{key:item.id},[_c('van-card',{attrs:{\"price\":_vm.totalPrice(item.sellPrice,item.numbers),\"origin-price\":_vm.totalPrice(item.originPrice,item.numbers),\"title\":item.title+'  x'+item.numbers,\"thumb\":item.cover}})],1)}),_c('span',[_vm._v(\"合计：￥\"+_vm._s(_vm.totalPrice(_vm.order.totalMoney)))])],2)],1)]},proxy:true},{key:\"tags\",fn:function(){return [_c('span',[_vm._v(\"商家：\"+_vm._s(_vm.order.shopAddress))]),_c('br'),_c('span',[_vm._v(\"顾客：\"+_vm._s(_vm.order.userAddress))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.order.userUsername))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.order.userMobile))]),_c('br')]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.order.completestatus==='已取消'||_vm.order.completestatus==='已退款')?_c('span',[_vm._v(\"此为失效订单，可撤单/召回\")]):_vm._e(),(_vm.order.completestatus==='申请退款中')?_c('span',[_vm._v(\"此为争议订单，可正常配送\")]):_vm._e(),(_vm.order.completestatus==='商家已接单')?_c('van-button',{attrs:{\"color\":\"#005ce6\",\"size\":\"small\"},on:{\"click\":_vm.deliverReceive}},[_vm._v(\" 接单 \")]):_vm._e(),(_vm.order.completestatus==='配送中'||\n                    _vm.order.completestatus==='申请退款中')?_c('van-button',{attrs:{\"color\":\"#005ce6\",\"size\":\"small\"},on:{\"click\":_vm.preDeliverSent}},[_vm._v(\"确认送达\")]):_vm._e()]},proxy:true},{key:\"price-top\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.modifiedTime(new Date(_vm.order.gmtCreate))))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.getDate(new Date(_vm.order.gmtCreate))))]),_c('br'),_c('span',[_vm._v(\"状态：\"+_vm._s(_vm.order.completestatus))]),_c('br'),_c('span',[_vm._v(\"此单收入：\")])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <van-cell style=\"background: #EFF0F1\">\n        <van-card\n                :price=\"totalPrice(order.sendCost+2)\"\n        >\n            <template #title>\n                <van-collapse v-model=\"activeNames\">\n                    <van-collapse-item :title=\"order.shopShopname\" name=\"1\">\n                        <van-cell v-for=\"item in orderFoods\" :key=\"item.id\">\n                            <van-card\n                                    :price=\"totalPrice(item.sellPrice,item.numbers)\"\n                                    :origin-price=\"totalPrice(item.originPrice,item.numbers)\"\n                                    :title=\"item.title+'  x'+item.numbers\"\n                                    :thumb=\"item.cover\"\n                            >\n                            </van-card>\n                        </van-cell>\n                        <span>合计：￥{{totalPrice(order.totalMoney)}}</span>\n                    </van-collapse-item>\n                </van-collapse>\n            </template>\n            <template #tags>\n                <span>商家：{{order.shopAddress}}</span><br/>\n                <span>顾客：{{order.userAddress}}</span><br/>\n                <span>{{order.userUsername}}</span><br/>\n                <span>{{order.userMobile}}</span><br/>\n            </template>\n            <template #footer>\n                <span v-if=\"order.completestatus==='已取消'||order.completestatus==='已退款'\">此为失效订单，可撤单/召回</span>\n                <span v-if=\"order.completestatus==='申请退款中'\">此为争议订单，可正常配送</span>\n                <van-button @click=\"deliverReceive\" v-if=\"order.completestatus==='商家已接单'\" color=\"#005ce6\" size=\"small\">\n                    接单\n                </van-button>\n                <van-button\n                        @click=\"preDeliverSent\"\n                        v-if=\"order.completestatus==='配送中'||\n                        order.completestatus==='申请退款中'\"\n                        color=\"#005ce6\" size=\"small\">确认送达</van-button>\n            </template>\n            <template #price-top>\n                <span>{{modifiedTime(new Date(order.gmtCreate))}}</span><br/>\n                <span>{{getDate(new Date(order.gmtCreate))}}</span><br/>\n                <span>状态：{{order.completestatus}}</span>\n                <br/>\n                <span>此单收入：</span>\n            </template>\n        </van-card>\n    </van-cell>\n</template>\n\n<script>\n    import {changeTwoDecimal_f, dateFormat} from '../../../utils/money-converter.js'\n    import {mapGetters} from \"vuex\";\n    import {Dialog, Toast} from \"vant\";\n\n    export default {\n        name: \"OrderItem\",\n        props: ['order','removeItemFromParent'],\n        watch: {\n            updateFlag() {\n                this.$forceUpdate()\n            }\n        },\n        methods: {\n            totalPrice: (price, amount = 1) => {\n                return changeTwoDecimal_f(price * amount)\n            },\n            apiRequestFoods(orderId) {\n                this.axios\n                    .get('/orderfood/' + orderId)\n                    .then(\n                        res => {\n                            this.orderFoods = res.data.list\n                        }\n                    )\n            },\n            modifiedTime(date) {\n                // date.setHours(date.getHours()+8)\n                return dateFormat('HH:MM', date)\n            },\n            getDate(date) {\n                // date.setHours(date.getHours()+8)\n                return dateFormat('mm月dd日', date)\n            },\n            deliverReceive() {\n                this.axios({\n                    url: '/deliver/receive/' + this.userInfo.id,\n                    method: 'post',\n                    data: {...this.order, deliverName: this.userInfo.truename},\n                    headers: {'content-type': 'application/json'}\n                }).then(\n                    res => {\n                        if (res.data.code === 0) {\n                            Toast({message: '接单成功', type: 'success'})\n                            this.removeItemFromParent(this.key)\n                        }\n                    }\n                ).catch(\n                    () => {\n                        Toast({message: '接单失败，请重试', type: 'fail'})\n                    }\n                )\n            },\n            preDeliverSent() {\n                Dialog.confirm({\n                    title: '订单送达',\n                    message: '确定订单已送达顾客',\n                })\n                    .then(() => {\n                        this.deliverSent(this.order.id)\n                    })\n                    .catch(() => {\n                        // on cancel\n                    });\n            },\n            deliverSent(orderId) {\n                this.axios\n                    .get('/deliver/complete/' + orderId)\n                    .then(\n                        res => {\n                            if (res.data.code === 0) {\n                                Toast({message: '订单已完成', type: 'success'})\n                                this.removeItemFromParent(this.key)\n                            }\n                        }\n                    ).catch(\n                    () => {\n                        Toast({message: '未知问题，请重试', type: 'fail'})\n                    }\n                )\n            },\n        },\n        data() {\n            return {\n                orderFoods: [],\n                activeNames: []\n            }\n        },\n        mounted() {\n            this.apiRequestFoods(this.order.id)\n        },\n        computed: {\n            ...mapGetters('validate', {\n                userInfo: 'userInfo'\n            })\n        },\n    }\n</script>\n\n<style scoped>\n    .van-card__thumb {\n        position: relative;\n        -webkit-box-flex: 0;\n        -webkit-flex: none;\n        flex: none;\n        width: 40px;\n        height: 40px;\n        margin-right: 8px;\n    }\n\n    .van-card__content {\n        position: relative;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-box-flex: 1;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n        min-width: 0;\n        min-height: 50px;\n    }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderItem.vue?vue&type=template&id=99e84c46&scoped=true&\"\nimport script from \"./OrderItem.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderItem.vue?vue&type=style&index=0&id=99e84c46&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99e84c46\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=style&index=0&id=99e84c46&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('iframe',{attrs:{\"src\":\"https://apip.weatherdt.com/v2/h5.html?bg=3&md=0&lc=auto&key=MM9wfmemO9\",\"width\":\"100%\",\"height\":\"320\",\"frameborder\":\"0\",\"scrolling\":\"no\",\"id\":\"iframename\",\"name\":\"iframename\"}}),_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{staticStyle:{\"margin-bottom\":\"20%\"}},[_c('van-cell-group',{attrs:{\"title\":\"tips:下拉可手动刷新\"}},_vm._l((_vm.preTaskOrderList),function(item){return _c('OrderItem',{key:item.id,attrs:{\"removeItemFromParent\":_vm.removeItemFromParent,\"order\":item}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <iframe src=\"https://apip.weatherdt.com/v2/h5.html?bg=3&md=0&lc=auto&key=MM9wfmemO9\"\n                width=\"100%\" height=\"320\" frameborder=\"0\"\n                scrolling=\"no\" id=\"iframename\" name=\"iframename\">\n        </iframe>\n        <!--        <van-cell-group title=\"待接单列表，下拉刷新\">-->\n        <!--            <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">-->\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n            <van-list style=\"margin-bottom: 20%;\">\n                <van-cell-group title=\"tips:下拉可手动刷新\">\n                    <OrderItem\n                            :removeItemFromParent=\"removeItemFromParent\"\n                            v-for=\"item in preTaskOrderList\"\n                            :key=\"item.id\"\n                            :order=\"item\"\n                    />\n                </van-cell-group>\n            </van-list>\n        </van-pull-refresh>\n        <!--            </van-pull-refresh>-->\n        <!--        </van-cell-group>-->\n    </div>\n</template>\n\n<script>\n    import OrderItem from \"../pre-task/OrderItem\";\n    import {Toast} from \"vant\";\n\n    export default {\n        name: \"Home\",\n        components: {OrderItem},\n        data() {\n            return {\n                \"exampleOrderlist\": [\n                    {\n                        \"id\": 9,\n                        \"userId\": 1,\n                        \"userUsername\": \"吴sir\",\n                        \"userMobile\": \"18752151001\",\n                        \"userAddressId\": 2,\n                        \"userAddress\": \"广东金融学院北苑北教广场xxxxxxxxxxxxxxxxxxxxx\",\n                        \"note\": \"啊哈哈哈嘎嘎嘎嘎嘎噶\",\n                        \"shopShopname\": \"正信鸡排\",\n                        \"shopMobile\": \"18752151002\",\n                        \"shopAddress\": \"迎龙路01号\",\n                        \"deliverId\": null,\n                        \"deliverName\": null,\n                        \"deliverMobile\": null,\n                        \"shopId\": 1,\n                        \"boxCost\": 2,\n                        \"sendCost\": 1,\n                        \"totalMoney\": 30,\n                        \"completestatus\": \"商家已接单\",\n                        \"gmtCreate\": \"2020-11-08 07:06:36\",\n                        \"gmtModified\": \"2020-11-08 07:06:36\"\n                    },\n                ],\n                preTaskOrderList: [],\n                isLoading: false,\n            }\n        },\n        methods: {\n            apiRequestPreTaskOrderList() {\n                this.axios.get('/deliver/orderlist')\n                    .then(\n                        res => {\n                            this.preTaskOrderList = res.data.list\n                        }\n                    ).catch(\n                    () => Toast('请刷新列表')\n                )\n            },\n            onRefresh(){\n                setTimeout(() => {\n                    this.apiRequestPreTaskOrderList()\n                    this.isLoading = false\n                }, 1000)\n            },\n            removeItemFromParent(key){\n                let index=0;\n                for (let i = 0; i < this.preTaskOrderList.length; i++) {\n                    if(this.preTaskOrderList[i].id===key){\n                        index=i\n                        break\n                    }\n                }\n                this.preTaskOrderList.splice(index,1)\n            }\n        },\n        mounted() {\n            this.onRefresh()\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=85b4a5de&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85b4a5de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),(!_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e(),_c('van-tabbar',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{attrs:{\"replace\":\"\",\"to\":\"/deliveryman\",\"icon\":\"home-o\"}},[_vm._v(\"主页\")]),_c('van-tabbar-item',{attrs:{\"replace\":\"\",\"to\":\"/deliveryman/queue\",\"icon\":\"todo-list-o\"}},[_vm._v(\"送单队列\")]),_c('van-tabbar-item',{attrs:{\"replace\":\"\",\"to\":\"/deliveryman/mine\",\"icon\":\"user-o\"}},[_vm._v(\"我的\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <keep-alive>\n            <router-view v-if=\"$route.meta.keepAlive\"></router-view>\n        </keep-alive>\n        <router-view v-if=\"!$route.meta.keepAlive\"></router-view>\n        <van-tabbar v-model=\"active\">\n            <van-tabbar-item replace to=\"/deliveryman\" icon=\"home-o\">主页</van-tabbar-item>\n            <van-tabbar-item replace to=\"/deliveryman/queue\" icon=\"todo-list-o\">送单队列</van-tabbar-item>\n            <van-tabbar-item replace to=\"/deliveryman/mine\" icon=\"user-o\">我的</van-tabbar-item>\n        </van-tabbar>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"GlobalContainer\",\n        data(){\n            return {\n                active:0\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GlobalContainer.vue?vue&type=template&id=0f03a3ab&scoped=true&\"\nimport script from \"./GlobalContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./GlobalContainer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f03a3ab\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
webpackJsonp([37],{Yh8O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={data:function(){return{visible:!1,dataForm:{id:0,shopId:"",cateId:"",title:"",desc:"",discount:"",cover:"",originPrice:"",sellPrice:"",status:"",like:"",option:"",totalSales:"",praiseRate:"",gmtCreate:"",gmtModified:""},dataRule:{shopId:[{required:!0,message:"商店ID不能为空",trigger:"blur"}],cateId:[{required:!0,message:"分类ID不能为空",trigger:"blur"}],title:[{required:!0,message:"食品名字不能为空",trigger:"blur"}],desc:[{required:!0,message:"描述不能为空",trigger:"blur"}],discount:[{required:!0,message:"折扣不能为空",trigger:"blur"}],cover:[{required:!0,message:"食品封面图不能为空",trigger:"blur"}],originPrice:[{required:!0,message:"原价不能为空",trigger:"blur"}],sellPrice:[{required:!0,message:"售价不能为空",trigger:"blur"}],status:[{required:!0,message:"状态 0下架1上架不能为空",trigger:"blur"}],like:[{required:!0,message:"点赞不能为空",trigger:"blur"}],option:[{required:!0,message:"规格选项不能为空",trigger:"blur"}],totalSales:[{required:!0,message:"总的销量不能为空",trigger:"blur"}],praiseRate:[{required:!0,message:"好评率不能为空",trigger:"blur"}],gmtCreate:[{required:!0,message:"创建时间不能为空",trigger:"blur"}],gmtModified:[{required:!0,message:"修改时间不能为空",trigger:"blur"}]}}},methods:{init:function(e){var t=this;this.dataForm.id=e||0,this.visible=!0,this.$nextTick(function(){t.$refs.dataForm.resetFields(),t.dataForm.id&&t.$http({url:t.$http.adornUrl("/waimai/food/info/"+t.dataForm.id),method:"get",params:t.$http.adornParams()}).then(function(e){var a=e.data;a&&0===a.code&&(t.dataForm.shopId=a.food.shopId,t.dataForm.cateId=a.food.cateId,t.dataForm.title=a.food.title,t.dataForm.desc=a.food.desc,t.dataForm.discount=a.food.discount,t.dataForm.cover=a.food.cover,t.dataForm.originPrice=a.food.originPrice,t.dataForm.sellPrice=a.food.sellPrice,t.dataForm.status=a.food.status,t.dataForm.like=a.food.like,t.dataForm.option=a.food.option,t.dataForm.totalSales=a.food.totalSales,t.dataForm.praiseRate=a.food.praiseRate,t.dataForm.gmtCreate=a.food.gmtCreate,t.dataForm.gmtModified=a.food.gmtModified)})})},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate(function(t){t&&e.$http({url:e.$http.adornUrl("/waimai/food/"+(e.dataForm.id?"update":"save")),method:"post",data:e.$http.adornData({id:e.dataForm.id||void 0,shopId:e.dataForm.shopId,cateId:e.dataForm.cateId,title:e.dataForm.title,desc:e.dataForm.desc,discount:e.dataForm.discount,cover:e.dataForm.cover,originPrice:e.dataForm.originPrice,sellPrice:e.dataForm.sellPrice,status:e.dataForm.status,like:e.dataForm.like,option:e.dataForm.option,totalSales:e.dataForm.totalSales,praiseRate:e.dataForm.praiseRate,gmtCreate:e.dataForm.gmtCreate,gmtModified:e.dataForm.gmtModified})}).then(function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(a.msg)})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"商店ID",prop:"shopId"}},[a("el-input",{attrs:{placeholder:"商店ID"},model:{value:e.dataForm.shopId,callback:function(t){e.$set(e.dataForm,"shopId",t)},expression:"dataForm.shopId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"分类ID",prop:"cateId"}},[a("el-input",{attrs:{placeholder:"分类ID"},model:{value:e.dataForm.cateId,callback:function(t){e.$set(e.dataForm,"cateId",t)},expression:"dataForm.cateId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"食品名字",prop:"title"}},[a("el-input",{attrs:{placeholder:"食品名字"},model:{value:e.dataForm.title,callback:function(t){e.$set(e.dataForm,"title",t)},expression:"dataForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述",prop:"desc"}},[a("el-input",{attrs:{placeholder:"描述"},model:{value:e.dataForm.desc,callback:function(t){e.$set(e.dataForm,"desc",t)},expression:"dataForm.desc"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"折扣",prop:"discount"}},[a("el-input",{attrs:{placeholder:"折扣"},model:{value:e.dataForm.discount,callback:function(t){e.$set(e.dataForm,"discount",t)},expression:"dataForm.discount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"食品封面图",prop:"cover"}},[a("el-input",{attrs:{placeholder:"食品封面图"},model:{value:e.dataForm.cover,callback:function(t){e.$set(e.dataForm,"cover",t)},expression:"dataForm.cover"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"原价",prop:"originPrice"}},[a("el-input",{attrs:{placeholder:"原价"},model:{value:e.dataForm.originPrice,callback:function(t){e.$set(e.dataForm,"originPrice",t)},expression:"dataForm.originPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"售价",prop:"sellPrice"}},[a("el-input",{attrs:{placeholder:"售价"},model:{value:e.dataForm.sellPrice,callback:function(t){e.$set(e.dataForm,"sellPrice",t)},expression:"dataForm.sellPrice"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态 0下架1上架",prop:"status"}},[a("el-input",{attrs:{placeholder:"状态 0下架1上架"},model:{value:e.dataForm.status,callback:function(t){e.$set(e.dataForm,"status",t)},expression:"dataForm.status"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"点赞",prop:"like"}},[a("el-input",{attrs:{placeholder:"点赞"},model:{value:e.dataForm.like,callback:function(t){e.$set(e.dataForm,"like",t)},expression:"dataForm.like"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"规格选项",prop:"option"}},[a("el-input",{attrs:{placeholder:"规格选项"},model:{value:e.dataForm.option,callback:function(t){e.$set(e.dataForm,"option",t)},expression:"dataForm.option"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总的销量",prop:"totalSales"}},[a("el-input",{attrs:{placeholder:"总的销量"},model:{value:e.dataForm.totalSales,callback:function(t){e.$set(e.dataForm,"totalSales",t)},expression:"dataForm.totalSales"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"好评率",prop:"praiseRate"}},[a("el-input",{attrs:{placeholder:"好评率"},model:{value:e.dataForm.praiseRate,callback:function(t){e.$set(e.dataForm,"praiseRate",t)},expression:"dataForm.praiseRate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间",prop:"gmtCreate"}},[a("el-input",{attrs:{placeholder:"创建时间"},model:{value:e.dataForm.gmtCreate,callback:function(t){e.$set(e.dataForm,"gmtCreate",t)},expression:"dataForm.gmtCreate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"修改时间",prop:"gmtModified"}},[a("el-input",{attrs:{placeholder:"修改时间"},model:{value:e.dataForm.gmtModified,callback:function(t){e.$set(e.dataForm,"gmtModified",t)},expression:"dataForm.gmtModified"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},i=a("VU/8")(r,o,!1,null,null,null);t.default=i.exports}});
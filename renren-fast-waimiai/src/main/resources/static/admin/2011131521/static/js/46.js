webpackJsonp([46],{ZxvU:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={data:function(){return{visible:!1,dataForm:{id:0,orderId:"",shopId:"",shopname:"",foodId:"",title:"",cover:"",originPrice:"",sellPrice:"",number:"",gmtCreate:"",gmtModified:""},dataRule:{orderId:[{required:!0,message:"订单ID不能为空",trigger:"blur"}],shopId:[{required:!0,message:"商铺ID不能为空",trigger:"blur"}],shopname:[{required:!0,message:"商铺名称不能为空",trigger:"blur"}],foodId:[{required:!0,message:"商品ID不能为空",trigger:"blur"}],title:[{required:!0,message:"商品标题不能为空",trigger:"blur"}],cover:[{required:!0,message:"商品封面不能为空",trigger:"blur"}],originPrice:[{required:!0,message:"原价不能为空",trigger:"blur"}],sellPrice:[{required:!0,message:"售价不能为空",trigger:"blur"}],number:[{required:!0,message:"下单数量不能为空",trigger:"blur"}],gmtCreate:[{required:!0,message:"不能为空",trigger:"blur"}],gmtModified:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{init:function(e){var r=this;this.dataForm.id=e||0,this.visible=!0,this.$nextTick(function(){r.$refs.dataForm.resetFields(),r.dataForm.id&&r.$http({url:r.$http.adornUrl("/waimai/orderfood/info/"+r.dataForm.id),method:"get",params:r.$http.adornParams()}).then(function(e){var t=e.data;t&&0===t.code&&(r.dataForm.orderId=t.orderFood.orderId,r.dataForm.shopId=t.orderFood.shopId,r.dataForm.shopname=t.orderFood.shopname,r.dataForm.foodId=t.orderFood.foodId,r.dataForm.title=t.orderFood.title,r.dataForm.cover=t.orderFood.cover,r.dataForm.originPrice=t.orderFood.originPrice,r.dataForm.sellPrice=t.orderFood.sellPrice,r.dataForm.number=t.orderFood.number,r.dataForm.gmtCreate=t.orderFood.gmtCreate,r.dataForm.gmtModified=t.orderFood.gmtModified)})})},dataFormSubmit:function(){var e=this;this.$refs.dataForm.validate(function(r){r&&e.$http({url:e.$http.adornUrl("/waimai/orderfood/"+(e.dataForm.id?"update":"save")),method:"post",data:e.$http.adornData({id:e.dataForm.id||void 0,orderId:e.dataForm.orderId,shopId:e.dataForm.shopId,shopname:e.dataForm.shopname,foodId:e.dataForm.foodId,title:e.dataForm.title,cover:e.dataForm.cover,originPrice:e.dataForm.originPrice,sellPrice:e.dataForm.sellPrice,number:e.dataForm.number,gmtCreate:e.dataForm.gmtCreate,gmtModified:e.dataForm.gmtModified})}).then(function(r){var t=r.data;t&&0===t.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(t.msg)})})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(r){e.visible=r}}},[t("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"},nativeOn:{keyup:function(r){if(!("button"in r)&&e._k(r.keyCode,"enter",13,r.key,"Enter"))return null;e.dataFormSubmit()}}},[t("el-form-item",{attrs:{label:"订单ID",prop:"orderId"}},[t("el-input",{attrs:{placeholder:"订单ID"},model:{value:e.dataForm.orderId,callback:function(r){e.$set(e.dataForm,"orderId",r)},expression:"dataForm.orderId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商铺ID",prop:"shopId"}},[t("el-input",{attrs:{placeholder:"商铺ID"},model:{value:e.dataForm.shopId,callback:function(r){e.$set(e.dataForm,"shopId",r)},expression:"dataForm.shopId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商铺名称",prop:"shopname"}},[t("el-input",{attrs:{placeholder:"商铺名称"},model:{value:e.dataForm.shopname,callback:function(r){e.$set(e.dataForm,"shopname",r)},expression:"dataForm.shopname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品ID",prop:"foodId"}},[t("el-input",{attrs:{placeholder:"商品ID"},model:{value:e.dataForm.foodId,callback:function(r){e.$set(e.dataForm,"foodId",r)},expression:"dataForm.foodId"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品标题",prop:"title"}},[t("el-input",{attrs:{placeholder:"商品标题"},model:{value:e.dataForm.title,callback:function(r){e.$set(e.dataForm,"title",r)},expression:"dataForm.title"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"商品封面",prop:"cover"}},[t("el-input",{attrs:{placeholder:"商品封面"},model:{value:e.dataForm.cover,callback:function(r){e.$set(e.dataForm,"cover",r)},expression:"dataForm.cover"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"原价",prop:"originPrice"}},[t("el-input",{attrs:{placeholder:"原价"},model:{value:e.dataForm.originPrice,callback:function(r){e.$set(e.dataForm,"originPrice",r)},expression:"dataForm.originPrice"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"售价",prop:"sellPrice"}},[t("el-input",{attrs:{placeholder:"售价"},model:{value:e.dataForm.sellPrice,callback:function(r){e.$set(e.dataForm,"sellPrice",r)},expression:"dataForm.sellPrice"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"下单数量",prop:"number"}},[t("el-input",{attrs:{placeholder:"下单数量"},model:{value:e.dataForm.number,callback:function(r){e.$set(e.dataForm,"number",r)},expression:"dataForm.number"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"",prop:"gmtCreate"}},[t("el-input",{attrs:{placeholder:""},model:{value:e.dataForm.gmtCreate,callback:function(r){e.$set(e.dataForm,"gmtCreate",r)},expression:"dataForm.gmtCreate"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"",prop:"gmtModified"}},[t("el-input",{attrs:{placeholder:""},model:{value:e.dataForm.gmtModified,callback:function(r){e.$set(e.dataForm,"gmtModified",r)},expression:"dataForm.gmtModified"}})],1)],1),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(r){e.visible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},staticRenderFns:[]},d=t("VU/8")(o,a,!1,null,null,null);r.default=d.exports}});
{"version":3,"sources":["webpack:///./src/page/deliveryman/main/Mine.vue?0de1","webpack:///src/page/deliveryman/main/Mine.vue","webpack:///./src/page/deliveryman/main/Mine.vue?2c34","webpack:///./src/page/deliveryman/main/Mine.vue","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?5063","webpack:///src/page/deliveryman/pre-task/OrderItem.vue","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?c96c","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?db12","webpack:///./src/page/deliveryman/pre-task/OrderItem.vue?9793","webpack:///./src/page/deliveryman/main/Queue.vue?b768","webpack:///src/page/deliveryman/main/Queue.vue","webpack:///./src/page/deliveryman/main/Queue.vue?cf2b","webpack:///./src/page/deliveryman/main/Queue.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","scopedSlots","_u","key","fn","on","$event","$router","push","proxy","_v","onRefresh","model","value","callback","$$v","isLoading","expression","_l","item","staticRenderFns","component","totalPrice","order","sendCost","activeNames","shopShopname","id","sellPrice","numbers","originPrice","title","cover","_s","totalMoney","shopAddress","userAddress","userUsername","userMobile","completestatus","_e","deliverReceive","preDeliverSent","modifiedTime","Date","gmtCreate","getDate","removeItemFromParent"],"mappings":"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","file":"js/delivery-tab-page.983e3b6b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticStyle:{\"overflow\":\"auto\",\"background\":\"#fff6ef\"},attrs:{\"title\":\"我的\"},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"setting-o\",\"size\":\"25\"},on:{\"click\":function($event){return _vm.$router.push('/deliveryman/setting')}}})]},proxy:true}])}),_c('van-card',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('van-row',{attrs:{\"gutter\":\"20\"}},[_c('van-col',[_c('van-icon',{attrs:{\"name\":\"photo-o\",\"size\":\"40\"}})],1),_c('van-col',[_c('p',[_vm._v(\"用户名\")]),_c('p',[_vm._v(\"送餐员ID\")]),_c('p',[_vm._v(\"饿死就算了。\")])])],1)]},proxy:true}])}),_c('van-grid',{attrs:{\"column-num\":3}},[_c('van-grid-item',{attrs:{\"icon\":\"balance-list-o\",\"to\":\"/deliveryman/mine/shop-star\",\"text\":\"每日收入\"}}),_c('van-grid-item',{attrs:{\"icon\":\"balance-pay\",\"text\":\"钱包\"}}),_c('van-grid-item',{attrs:{\"icon\":\"service-o\",\"text\":\"客服\"}})],1),_c('van-cell-group',{attrs:{\"title\":\"已完成订单，下拉刷新\"}},[_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{staticStyle:{\"margin-bottom\":\"20%\"}},[_vm._l(([1,2,3,4]),function(item){return _c('van-cell',{key:item,scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('van-row',[_c('span',[_vm._v(\"11月2日 12:36\")])]),_c('van-row',[_c('van-col',[_c('span',[_vm._v(\"店铺名\")])]),_vm._v(\" \"),_c('van-col',[_c('span',[_vm._v(\"地址：xxxxxxxx\")])])],1),_c('van-row',[_c('van-col',[_c('span',[_vm._v(\"顾客地址：xxxxxxxx\")])])],1)]},proxy:true}],null,true)})}),_vm._l(([1,2,3,4]),function(item){return _c('van-cell',{key:item,scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('van-row',[_c('span',[_vm._v(\"几分钟前\")])]),_c('van-row',[_c('van-col',[_c('span',[_vm._v(\"店铺名\")])]),_vm._v(\" \"),_c('van-col',[_c('span',[_vm._v(\"地址：xxxxxxxx\")])])],1),_c('van-row',[_c('van-col',[_c('span',[_vm._v(\"顾客地址：xxxxxxxx\")])])],1)]},proxy:true}],null,true)})})],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <van-nav-bar title=\"我的\" style=\"overflow: auto;background: #fff6ef\">\n            <template #right>\n                <van-icon @click=\"$router.push('/deliveryman/setting')\" name=\"setting-o\" size=\"25\">\n                </van-icon>\n            </template>\n        </van-nav-bar>\n        <van-card>\n            <template #title>\n                <van-row gutter=\"20\">\n                    <van-col>\n                        <van-icon name=\"photo-o\" size=\"40\" />\n                    </van-col>\n                    <van-col>\n                        <p>用户名</p>\n                        <p>送餐员ID</p>\n                        <p>饿死就算了。</p>\n                    </van-col>\n                </van-row>\n            </template>\n        </van-card>\n        <van-grid :column-num=\"3\">\n            <van-grid-item icon=\"balance-list-o\" to=\"/deliveryman/mine/shop-star\"\n                           text=\"每日收入\"/>\n            <van-grid-item icon=\"balance-pay\" text=\"钱包\"/>\n            <van-grid-item icon=\"service-o\" text=\"客服\"/>\n        </van-grid>\n        <van-cell-group title=\"已完成订单，下拉刷新\">\n            <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n                <van-list style=\"margin-bottom: 20%;\">\n                    <van-cell v-for=\"item in [1,2,3,4]\" :key=\"item\">\n                        <template #title>\n                            <van-row>\n                                <span>11月2日 12:36</span>\n                            </van-row>\n                            <van-row>\n                                <van-col><span>店铺名</span></van-col> <van-col><span>地址：xxxxxxxx</span></van-col>\n                            </van-row>\n                            <van-row>\n                                <van-col><span>顾客地址：xxxxxxxx</span></van-col>\n                            </van-row>\n                        </template>\n                        \n                    </van-cell>\n                    <van-cell v-for=\"item in [1,2,3,4]\" :key=\"item\">\n                        <template #title>\n                            <van-row>\n                                <span>几分钟前</span>\n                            </van-row>\n                            <van-row>\n                                <van-col><span>店铺名</span></van-col> <van-col><span>地址：xxxxxxxx</span></van-col>\n                            </van-row>\n                            <van-row>\n                                <van-col><span>顾客地址：xxxxxxxx</span></van-col>\n                            </van-row>\n                        </template>\n                        \n                    </van-cell>\n                </van-list>\n            </van-pull-refresh>\n        </van-cell-group>\n\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Mine\"\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mine.vue?vue&type=template&id=1555df7c&scoped=true&\"\nimport script from \"./Mine.vue?vue&type=script&lang=js&\"\nexport * from \"./Mine.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1555df7c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-cell',{staticStyle:{\"background\":\"#EFF0F1\"}},[_c('van-card',{attrs:{\"price\":_vm.totalPrice(_vm.order.sendCost+2)},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('van-collapse',{model:{value:(_vm.activeNames),callback:function ($$v) {_vm.activeNames=$$v},expression:\"activeNames\"}},[_c('van-collapse-item',{attrs:{\"title\":_vm.order.shopShopname,\"name\":\"1\"}},[_vm._l((_vm.orderFoods),function(item){return _c('van-cell',{key:item.id},[_c('van-card',{attrs:{\"price\":_vm.totalPrice(item.sellPrice,item.numbers),\"origin-price\":_vm.totalPrice(item.originPrice,item.numbers),\"title\":item.title+'  x'+item.numbers,\"thumb\":item.cover}})],1)}),_c('span',[_vm._v(\"合计：￥\"+_vm._s(_vm.totalPrice(_vm.order.totalMoney)))])],2)],1)]},proxy:true},{key:\"tags\",fn:function(){return [_c('span',[_vm._v(\"商家：\"+_vm._s(_vm.order.shopAddress))]),_c('br'),_c('span',[_vm._v(\"顾客：\"+_vm._s(_vm.order.userAddress))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.order.userUsername))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.order.userMobile))]),_c('br')]},proxy:true},{key:\"footer\",fn:function(){return [(_vm.order.completestatus==='已取消'||_vm.order.completestatus==='已退款')?_c('span',[_vm._v(\"此为失效订单，可撤单/召回\")]):_vm._e(),(_vm.order.completestatus==='申请退款中')?_c('span',[_vm._v(\"此为争议订单，可正常配送\")]):_vm._e(),(_vm.order.completestatus==='商家已接单')?_c('van-button',{attrs:{\"color\":\"#005ce6\",\"size\":\"small\"},on:{\"click\":_vm.deliverReceive}},[_vm._v(\" 接单 \")]):_vm._e(),(_vm.order.completestatus==='配送中'||\n                    _vm.order.completestatus==='申请退款中')?_c('van-button',{attrs:{\"color\":\"#005ce6\",\"size\":\"small\"},on:{\"click\":_vm.preDeliverSent}},[_vm._v(\"确认送达\")]):_vm._e()]},proxy:true},{key:\"price-top\",fn:function(){return [_c('span',[_vm._v(_vm._s(_vm.modifiedTime(new Date(_vm.order.gmtCreate))))]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.getDate(new Date(_vm.order.gmtCreate))))]),_c('br'),_c('span',[_vm._v(\"状态：\"+_vm._s(_vm.order.completestatus))]),_c('br'),_c('span',[_vm._v(\"此单收入：\")])]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <van-cell style=\"background: #EFF0F1\">\n        <van-card\n                :price=\"totalPrice(order.sendCost+2)\"\n        >\n            <template #title>\n                <van-collapse v-model=\"activeNames\">\n                    <van-collapse-item :title=\"order.shopShopname\" name=\"1\">\n                        <van-cell v-for=\"item in orderFoods\" :key=\"item.id\">\n                            <van-card\n                                    :price=\"totalPrice(item.sellPrice,item.numbers)\"\n                                    :origin-price=\"totalPrice(item.originPrice,item.numbers)\"\n                                    :title=\"item.title+'  x'+item.numbers\"\n                                    :thumb=\"item.cover\"\n                            >\n                            </van-card>\n                        </van-cell>\n                        <span>合计：￥{{totalPrice(order.totalMoney)}}</span>\n                    </van-collapse-item>\n                </van-collapse>\n            </template>\n            <template #tags>\n                <span>商家：{{order.shopAddress}}</span><br/>\n                <span>顾客：{{order.userAddress}}</span><br/>\n                <span>{{order.userUsername}}</span><br/>\n                <span>{{order.userMobile}}</span><br/>\n            </template>\n            <template #footer>\n                <span v-if=\"order.completestatus==='已取消'||order.completestatus==='已退款'\">此为失效订单，可撤单/召回</span>\n                <span v-if=\"order.completestatus==='申请退款中'\">此为争议订单，可正常配送</span>\n                <van-button @click=\"deliverReceive\" v-if=\"order.completestatus==='商家已接单'\" color=\"#005ce6\" size=\"small\">\n                    接单\n                </van-button>\n                <van-button\n                        @click=\"preDeliverSent\"\n                        v-if=\"order.completestatus==='配送中'||\n                        order.completestatus==='申请退款中'\"\n                        color=\"#005ce6\" size=\"small\">确认送达</van-button>\n            </template>\n            <template #price-top>\n                <span>{{modifiedTime(new Date(order.gmtCreate))}}</span><br/>\n                <span>{{getDate(new Date(order.gmtCreate))}}</span><br/>\n                <span>状态：{{order.completestatus}}</span>\n                <br/>\n                <span>此单收入：</span>\n            </template>\n        </van-card>\n    </van-cell>\n</template>\n\n<script>\n    import {changeTwoDecimal_f, dateFormat} from '../../../utils/money-converter.js'\n    import {mapGetters} from \"vuex\";\n    import {Dialog, Toast} from \"vant\";\n\n    export default {\n        name: \"OrderItem\",\n        props: ['order','removeItemFromParent'],\n        watch: {\n            updateFlag() {\n                this.$forceUpdate()\n            }\n        },\n        methods: {\n            totalPrice: (price, amount = 1) => {\n                return changeTwoDecimal_f(price * amount)\n            },\n            apiRequestFoods(orderId) {\n                this.axios\n                    .get('/orderfood/' + orderId)\n                    .then(\n                        res => {\n                            this.orderFoods = res.data.list\n                        }\n                    )\n            },\n            modifiedTime(date) {\n                // date.setHours(date.getHours()+8)\n                return dateFormat('HH:MM', date)\n            },\n            getDate(date) {\n                // date.setHours(date.getHours()+8)\n                return dateFormat('mm月dd日', date)\n            },\n            deliverReceive() {\n                this.axios({\n                    url: '/deliver/receive/' + this.userInfo.id,\n                    method: 'post',\n                    data: {...this.order, deliverName: this.userInfo.truename},\n                    headers: {'content-type': 'application/json'}\n                }).then(\n                    res => {\n                        if (res.data.code === 0) {\n                            Toast({message: '接单成功', type: 'success'})\n                            this.removeItemFromParent(this.key)\n                        }\n                    }\n                ).catch(\n                    () => {\n                        Toast({message: '接单失败，请重试', type: 'fail'})\n                    }\n                )\n            },\n            preDeliverSent() {\n                Dialog.confirm({\n                    title: '订单送达',\n                    message: '确定订单已送达顾客',\n                })\n                    .then(() => {\n                        this.deliverSent(this.order.id)\n                    })\n                    .catch(() => {\n                        // on cancel\n                    });\n            },\n            deliverSent(orderId) {\n                this.axios\n                    .get('/deliver/complete/' + orderId)\n                    .then(\n                        res => {\n                            if (res.data.code === 0) {\n                                Toast({message: '订单已完成', type: 'success'})\n                                this.removeItemFromParent(this.key)\n                            }\n                        }\n                    ).catch(\n                    () => {\n                        Toast({message: '未知问题，请重试', type: 'fail'})\n                    }\n                )\n            },\n        },\n        data() {\n            return {\n                orderFoods: [],\n                activeNames: []\n            }\n        },\n        mounted() {\n            this.apiRequestFoods(this.order.id)\n        },\n        computed: {\n            ...mapGetters('validate', {\n                userInfo: 'userInfo'\n            })\n        },\n    }\n</script>\n\n<style scoped>\n    .van-card__thumb {\n        position: relative;\n        -webkit-box-flex: 0;\n        -webkit-flex: none;\n        flex: none;\n        width: 40px;\n        height: 40px;\n        margin-right: 8px;\n    }\n\n    .van-card__content {\n        position: relative;\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: flex;\n        -webkit-box-flex: 1;\n        -webkit-flex: 1;\n        flex: 1;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n        -webkit-flex-direction: column;\n        flex-direction: column;\n        -webkit-box-pack: justify;\n        -webkit-justify-content: space-between;\n        justify-content: space-between;\n        min-width: 0;\n        min-height: 50px;\n    }\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderItem.vue?vue&type=template&id=99e84c46&scoped=true&\"\nimport script from \"./OrderItem.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderItem.vue?vue&type=style&index=0&id=99e84c46&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"99e84c46\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderItem.vue?vue&type=style&index=0&id=99e84c46&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticStyle:{\"overflow\":\"auto\",\"background\":\"#fff6ef\"},attrs:{\"title\":\"送单队列\"}}),_c('van-pull-refresh',{on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{staticStyle:{\"margin-bottom\":\"20%\"}},[_c('van-cell-group',{attrs:{\"title\":\"tips:下拉可手动刷新\"}},_vm._l((_vm.queueOrderList),function(item){return _c('OrderItem',{key:item.id,attrs:{\"removeItemFromParent\":_vm.removeItemFromParent,\"order\":item}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <van-nav-bar title=\"送单队列\" style=\"overflow: auto;background: #fff6ef\">\n        </van-nav-bar>\n        <van-pull-refresh v-model=\"isLoading\" @refresh=\"onRefresh\">\n            <van-list style=\"margin-bottom: 20%;\">\n                <van-cell-group title=\"tips:下拉可手动刷新\">\n                    <OrderItem\n                            :removeItemFromParent=\"removeItemFromParent\"\n                            v-for=\"item in queueOrderList\"\n                            :key=\"item.id\"\n                            :order=\"item\"\n                    />\n                </van-cell-group>\n            </van-list>\n        </van-pull-refresh>\n    </div>\n</template>\n\n<script>\n    import {Toast} from \"vant\";\n    import {mapGetters} from \"vuex\";\n    import OrderItem from \"../pre-task/OrderItem\";\n\n    export default {\n        name: \"Queue\",\n        components:{OrderItem},\n        data(){\n            return {\n                \"exampleOrderlist\": [\n                    {\n                        \"id\": 9,\n                        \"userId\": 1,\n                        \"userUsername\": \"吴sir\",\n                        \"userMobile\": \"18752151001\",\n                        \"userAddressId\": 2,\n                        \"userAddress\": \"广东金融学院北苑北教广场xxxxxxxxxxxxxxxxxxxxx\",\n                        \"note\": \"啊哈哈哈嘎嘎嘎嘎嘎噶\",\n                        \"shopShopname\": \"正信鸡排\",\n                        \"shopMobile\": \"18752151002\",\n                        \"shopAddress\": \"迎龙路01号\",\n                        \"deliverId\": null,\n                        \"deliverName\": null,\n                        \"deliverMobile\": null,\n                        \"shopId\": 1,\n                        \"boxCost\": 2,\n                        \"sendCost\": 1,\n                        \"totalMoney\": 30,\n                        \"completestatus\": \"商家已接单\",\n                        \"gmtCreate\": \"2020-11-08 07:06:36\",\n                        \"gmtModified\": \"2020-11-08 07:06:36\"\n                    },\n                ],\n                queueOrderList: [],\n                isLoading: false,\n            }\n        },\n        methods: {\n            apiRequestQueueOrderList(deliverId) {\n                this.axios.get('/deliver/orderlist/'+deliverId)\n                    .then(\n                        res => {\n                            this.queueOrderList = res.data.list\n                        }\n                    ).catch(\n                    () => Toast('请刷新列表')\n                )\n            },\n            onRefresh(){\n                setTimeout(() => {\n                    this.apiRequestQueueOrderList(this.userInfo.id)\n                    this.isLoading = false\n                }, 1000)\n            },\n            removeItemFromParent(key){\n                let index=0;\n                for (let i = 0; i < this.queueOrderList.length; i++) {\n                    if(this.queueOrderList[i].id===key){\n                        index=i\n                        break\n                    }\n                }\n                this.queueOrderList.splice(index,1)\n            }\n        },\n        computed:{\n            ...mapGetters('validate',{\n                userInfo:'userInfo'\n            })\n        },\n        mounted() {\n            this.onRefresh()\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Queue.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Queue.vue?vue&type=template&id=60d95981&scoped=true&\"\nimport script from \"./Queue.vue?vue&type=script&lang=js&\"\nexport * from \"./Queue.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60d95981\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}